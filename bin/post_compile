#!/usr/bin/env bash
set -eo pipefail

echo "-----> Running post-compile hook"

# Print environment and directory structure for debugging
echo "Current directory: $(pwd)"
echo "Directory contents:"
ls -la

echo "Parent directory contents:"
ls -la ..

echo "Root directory contents:"
ls -la /

echo "Checking Python path:"
which python
python --version

echo "Checking if we're in a virtualenv:"
python -c "import sys; print('Virtual env:', hasattr(sys, 'real_prefix') or (hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix))"

# Try to locate our application files
echo "Looking for Django files:"
find . -name "wsgi.py" -o -name "manage.py" -o -name "settings.py" 2>/dev/null

# Exit early for now to inspect the environment
echo "Exiting early to inspect environment"
exit 1